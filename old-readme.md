# Analytic Module (MVP)

**Описание продукта:**  
Analytic Module — это минимально жизнеспособный продукт (MVP) для маркетплейса, который предоставляет продавцам и администраторам платформы доступ к ключевой аналитике активности пользователей и эффективности товаров в реальном времени.

Цель модуля — дать бизнесу инструмент для понимания того, как пользователи взаимодействуют с товарами, и быстро принимать решения на основе данных.

---

## Ценность для бизнеса

- **Продавцы** могут оценивать эффективность товаров:
    - Средняя позиция товаров в просмотрах
    - Количество показов
    - Количество переходов (рефералов)

- **Администраторы платформы** получают агрегированные показатели по всем товарам и пользователям, что позволяет:
    - Отслеживать активность покупателей
    - Выявлять популярные категории и тренды
    - Принимать решения по продвижению товаров и оптимизации UX

---

## Основные возможности MVP

1. **Сбор данных**
    - События о действиях пользователей (`RequestedEvent`) и рефералах (`ReferedEvent`) принимаются через API.
    - Данные сохраняются в высокопроизводительную аналитическую базу ClickHouse, обеспечивая масштабируемость и быстрый доступ.

2. **Аналитика**
    - Расчет ключевых метрик на основе собранных событий:
        - Средняя позиция (`averageRank`)
        - Общее количество показов (`globalCount`)
        - Количество рефералов (`referCount`)
    - Метрики могут предоставляться как единым набором данных, так и по отдельным показателям.

3. **Гибкая архитектура**
    - Построено по принципу **Hexagonal Architecture / Ports & Adapters**, что позволяет легко расширять функционал:
        - Новые источники данных
        - Дополнительные метрики
        - Различные каналы визуализации

4. **Безопасность**
    - Минимальная защита API через проверку ключа (API Key), что обеспечивает базовый контроль доступа.

---

## Технологическая реализация

- **Java Spring Boot** — микросервис для обработки API-запросов и бизнес-логики.
- **ClickHouse** — аналитическая СУБД для хранения событий и расчета агрегатов.
- **REST API** — унифицированный интерфейс для загрузки данных и получения аналитики.
- **Hexagonal Architecture** — бизнес-логика отделена от инфраструктуры, что упрощает тестирование и развитие продукта.

---

**Итог:**  
Этот MVP демонстрирует минимальный, но функциональный путь от событий пользователей до визуально значимой аналитики. Он позволяет проверять гипотезы о поведении покупателей, оценивать эффективность товаров и предоставляет платформе основу для дальнейшего масштабирования аналитики.